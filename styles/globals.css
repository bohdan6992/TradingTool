@tailwind base;
@tailwind components;
@tailwind utilities;

/* safety-ÑƒÑ‚Ð¸Ð»Ñ–Ñ‚Ð° */
@layer utilities { .tt-grid { display: grid; } }

/* ============ BASE ============ */
@layer base {
  :root {
    --bg: #0b0f1a;
    --fg: #e6edf6;
    --muted: #93a1be;
    --color-primary: #60a5fa;

    /* Ð¼Ð°ÑÑˆÑ‚Ð°Ð±ÑƒÐ²Ð°Ð½Ð½Ñ Ð¿Ð¾Ð»Ð¾Ñ‚Ð½Ð° */
    --base-width: 1920;
    --scale: 1;
    --offsetX: 0px;

    /* topbar */
    --topbar-h: 72;      /* Ð±Ð°Ð·Ð¾Ð²Ð° Ð²Ð¸ÑÐ¾Ñ‚Ð° (Ñƒ â€œÐ»Ð¾Ð³Ñ–Ñ‡Ð½Ð¸Ñ…â€ px) */
    --topbar-k: 1;       /* Ð¼Ð½Ð¾Ð¶Ð½Ð¸Ðº (ÐºÐ¾Ð¼Ð¿Ð°ÐºÑ‚Ð½Ð¸Ð¹ Ð±Ð°Ñ€ Ð½Ð° Ð¼Ð¾Ð±Ð°Ð¹Ð»Ñ–) */
    --topbar-gap: 26px;  /* â€œÐ¿Ð¾Ð²Ñ–Ñ‚Ñ€Ñâ€ Ð¿Ñ–Ð´ Ð±Ð°Ñ€Ð¾Ð¼ */
  }

  html, body { height: 100%; }

  /* Ð¢Ð•ÐœÐ˜ (Ð±ÐµÐ· Ð¶Ð¾Ð´Ð½Ð¸Ñ… Ð¿Ð°Ð´Ñ–Ð½Ð³Ñ–Ð² Ñ‚ÑƒÑ‚!) */
  body {
    @apply bg-white text-slate-900 dark:bg-[var(--bg)] dark:text-slate-100;
    padding-top: 0 !important;         /* Ð³Ð»ÑƒÑˆÐ¸Ð¼Ð¾ ÑÑ‚Ð°Ñ€Ñ– ÐºÐ¾ÑÑ‚Ð¸Ð»Ñ– */
    margin-top: 0 !important;
  }

  a { @apply text-inherit no-underline; }
  a:hover { @apply underline decoration-1 decoration-white/40 dark:decoration-white/30; }
}

/* ---- ÐŸÐ ÐžÐšÐ›ÐÐ”ÐšÐ ÐŸÐ†Ð” FIXED TOPBAR ---- */
/* ÐŸÑ€Ð¾ÐºÐ»Ð°Ð´ÐºÐ° Ð¿Ñ–Ð´ fixed topbar */
  #tt-offset{
    height: calc(
      var(--topbar-h) * var(--topbar-k, 1) * var(--scale)
      + var(--topbar-gap, 26px)
      + env(safe-area-inset-top, 0px)
    );
    display: block;
    width: 100%;
    background: transparent; /* Ñ‚Ð¸Ð¼Ñ‡Ð°ÑÐ¾Ð²Ð¾ Ð¼Ð¾Ð¶Ð½Ð° Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚Ð¸ rgba(255,0,0,.15) Ñ‰Ð¾Ð± Ð¿Ð¾Ð±Ð°Ñ‡Ð¸Ñ‚Ð¸ */
  }


/* ============ COMPONENTS ============ */
@layer components {
  .card { @apply rounded-2xl border border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur-md; }
  .btn  { @apply px-4 py-2 rounded-xl font-semibold border border-white/20 transition text-slate-900 dark:text-slate-100 bg-white/70 dark:bg-white/5; }
  .btn:hover {
    box-shadow:
      0 8px 24px -12px rgba(0,0,0,.35),
      0 0 0 1px rgba(255,255,255,.08),
      0 0 0 3px color-mix(in oklab, var(--color-primary) 25%, transparent);
  }
  .hero-title { @apply text-4xl md:text-6xl font-extrabold tracking-tight; }
  .hero-sub   { @apply text-slate-600 dark:text-slate-300; }
  .grid-auto  { @apply grid gap-4 sm:grid-cols-2 lg:grid-cols-3; }
  .small      { @apply text-xs text-slate-500 dark:text-slate-400; }

  .tt-table table { @apply w-full text-sm; }
  .tt-table th, .tt-table td { @apply text-left px-2 py-2; }
  .tt-table thead tr { @apply border-b border-white/10; }
  .tt-table tbody tr { @apply border-b border-white/10; }
}

/* ============ UTILITIES ============ */
@layer utilities {
  .shadow-glow {
    box-shadow:
      0 8px 24px -12px rgba(0,0,0,.35),
      0 0 0 1px rgba(255,255,255,.08),
      0 0 0 3px color-mix(in oklab, var(--color-primary) 25%, transparent);
  }
}

/* ============================= */
/* ðŸ“± ÐœÐ°ÑÑˆÑ‚Ð°Ð±ÑƒÐ²Ð°Ð½Ð½Ñ Ð¿Ð¾Ð»Ð¾Ñ‚Ð½Ð°      */
/* ============================= */

html, body {
  width: 100%;
  height: 100%;
  margin: 0; padding: 0;
  overflow-x: hidden;
  overscroll-behavior: none;
}

/* ÐœÐ°ÑÑˆÑ‚Ð°Ð±ÑƒÑ”Ð¼Ð¾ Ð»Ð¸ÑˆÐµ Ð²Ð½ÑƒÑ‚Ñ€Ñ–ÑˆÐ½ÑŽ Ð¾Ð±Ð³Ð¾Ñ€Ñ‚ÐºÑƒ */
#app-scale {
  width: calc(var(--base-width) * 1px);
  transform-origin: top left;
  transform: translateX(var(--offsetX)) scale(var(--scale));
  will-change: transform;
  margin-top: 0 !important;           /* Ð³Ð»ÑƒÑˆÐ¸Ð¼Ð¾ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ñ– ÑÑ‚Ð°Ñ€Ñ– Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð° */
}

/* anti-jitter */
.card, .nav, .tabs, .topbar, .clock, .strategy-tabs {
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* nowrap */
.nowrap { white-space: nowrap; }
.nowrap > * { flex: 0 0 auto; }

/* tabular numbers */
.tabular-nums { font-variant-numeric: tabular-nums; }

/* ============ Topbar ============ */
.tt-topbar {
  position: fixed !important;
  top: 0; left: 0; right: 0;
  z-index: 1000;
  height: calc(var(--topbar-h) * var(--topbar-k) * var(--scale));
  padding: 0;
  margin: 0;
}

.tt-topbar-viewport {
  width: calc(var(--base-width) * 1px);
  transform-origin: top left;
  transform: translateX(var(--offsetX)) scale(var(--scale));
}

.tt-topbar-inner {
  width: 100%;
  max-width: none;
  padding: 0 20px;
  height: calc(var(--topbar-h) * var(--topbar-k) * 1px);
}

/* ============ Zoom-mode overrides ============ */
.zoom-mode .container,
.zoom-mode [class*="max-w-"] { max-width: none !important; }

.zoom-mode .tt-topbar-inner,
.zoom-mode .page,
.zoom-mode .content,
.zoom-mode .wrap,
.zoom-mode .nytopbar__grid {
  width: calc(var(--base-width) * 1px) !important;
  margin-left: auto; margin-right: auto;
}

.zoom-mode main {
  max-width: none !important;
  width: calc(var(--base-width) * 1px) !important;
  margin-left: auto; margin-right: auto;
  padding-left: 0; padding-right: 0;
}

.zoom-mode main > section { padding-left: 20px; padding-right: 20px; }

.zoom-mode * { overflow: visible; }

/* nowrap rows */
.tt-row-nowrap {
  display: flex;
  gap: 16px;
  align-items: stretch;
  flex-wrap: nowrap;
}
.tt-row-nowrap > * { flex: 0 0 auto; }

.tt-grid-solid-2 { display:grid; grid-template-columns: repeat(2, 1fr); gap:16px; }
.tt-grid-solid-3 { display:grid; grid-template-columns: repeat(3, 1fr); gap:16px; }
.tt-grid-solid-4 { display:grid; grid-template-columns: repeat(4, 1fr); gap:16px; }
.tt-grid-min-320 { display:grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap:16px; }

.zoom-mode [class*="max-w-"] { max-width: none !important; }

/* ============================================= */
/* ðŸ“± ÐœÐ¾Ð±Ñ–Ð»ÑŒÐ½Ñ– (â‰¤768px): Ð½Ð¸Ð¶Ñ‡Ð¸Ð¹ Ð±Ð°Ñ€ Ñ– +50% UI    */
/* ============================================= */
@media (max-width: 768px) {
  html { font-size: 150%; }

  :root {
    --topbar-k: 0.55;   /* ÐºÐ¾Ð¼Ð¿Ð°ÐºÑ‚Ð½Ð¸Ð¹ Ð±Ð°Ñ€ */
    --topbar-gap: 34px; /* Ð±Ñ–Ð»ÑŒÑˆÐµ â€œÐ¿Ð¾Ð²Ñ–Ñ‚Ñ€Ñâ€ */
  }

  p, span, a, label, input, select, textarea {
    font-size: 1.1em;
    line-height: 1.4;
  }

  .tt-btn, .tt-pill, button {
    font-size: 1.3em !important;
    min-height: 48px !important;
    padding: 0.75em 1.5em !important;
    border-radius: 16px !important;
  }

  .tt-dd > .tt-btn {
    font-size: 1.3em !important;
    padding: 0.75em 1.3em !important;
  }

  .tt-nav { gap: 10px; padding: 8px; }
  .tt-pill { height: 44px !important; padding: 0 20px !important; }

  .tt-topbar-inner { padding: 0 12px; gap: 8px; }

  .tt-brand-txt { font-size: 1.2rem; }
  .tt-logo-img { height: 48px !important; }

  .surface, .rounded-3xl { border-radius: 24px !important; }

  input.inp, .inp { height: 52px !important; font-size: 1.2em !important; }
  .tt-btn.pretty { height: 52px !important; font-size: 1.2em !important; }

  .topGrid .row, .rlist .row { padding: 16px 20px !important; }

  .ticker { font-size: 1.2em !important; }
  .value  { font-size: 1.1em !important; padding: 8px 14px !important; }
}
